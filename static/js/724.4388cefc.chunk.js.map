{"version":3,"file":"static/js/724.4388cefc.chunk.js","mappings":"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","sources":["helpers/api.js","components/TweetsAmount/TweetsAmount.styled.jsx","components/TweetsAmount/TweetsAmount.jsx","components/FollowersAmount/FollowersAmount.styled.jsx","components/FollowersAmount/FollowersAmount.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","hooks/useLocalStorage.js","helpers/LocalStorage.js","components/TweetCard/TweetCard.styled.jsx","components/TweetCard/TweetCard.jsx","components/TweetCardsList/TweetCardsList.styled.jsx","components/TweetCardsList/TweetCardsList.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/BackLink/BackLink.styled.jsx","components/BackLink/BackLink.jsx","components/Section/Section.styled.jsx","components/Section/Section.jsx","pages/Tweets.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL =\n  'https://6457326f1a4c152cf97cf8a9.mockapi.io/users/api';\n\nexport async function getUsers(page = 1) {\n  const searchParams = new URLSearchParams({\n    page,\n    limit: 3,\n  });\n\n  const response = await axios.get(`/users?${searchParams}`);\n  return response.data;\n}\n\nexport async function updateUsers(id, followers) {\n  const response = await axios.put(`/users/${id}`, {\n    followers,\n  });\n  return response.data;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Text = styled.p`\n  display: flex;\n  justify-content: center;\n\n  margin-bottom: 16px;\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.2;\n  text-transform: uppercase;\n\n  color: #ebd8ff;\n`;\n","import { Text } from \"./TweetsAmount.styled\";\n\nexport const TweetsAmount = ({ children }) => {\n  return <Text>{children}</Text>;\n};\n","import styled from \"@emotion/styled\";\n\nexport const Text = styled.p`\n  display: flex;\n  justify-content: center;\n\n  margin-bottom: 26px;\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.2;\n  text-transform: uppercase;\n\n  color: #ebd8ff;\n`;\n","import { Text } from \"./FollowersAmount.styled\";\n\nexport const FollowersAmount = ({ children }) => {\n  return <Text>{children}</Text>;\n};\n","import styled from \"@emotion/styled\";\n\nexport const Btn = styled.button`\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 14px;\n\n  min-width: 196px;\n\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n\n  text-transform: uppercase;\n\n  color: #373737;\n\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  border: none;\n  cursor: pointer;\n\n  background-color: ${({ children }) =>\n    children === \"Following\" ? \"#5CD3A8\" : \"#ebd8ff\"};\n\n  transition: box-shadow 200ms linear;\n\n  :hover,\n  :focus {\n    box-shadow: 0px 5px 5px 0px rgba(35, 33, 33, 0.5) inset;\n  }\n`;\n","import { Btn } from \"./Button.styled\";\n\nexport const Button = ({ children, onClick }) => {\n  return <Btn onClick={onClick}>{children}</Btn>;\n};\n","import { useState, useEffect } from 'react';\nimport { setLocalStorage, getLocalStorage } from '../helpers/LocalStorage';\n\nexport function useLocalStorage(key, defaultValue) {\n  const [state, setState] = useState(() => getLocalStorage(key, defaultValue));\n\n  useEffect(() => {\n    setLocalStorage(key, state);\n  }, [key, state]);\n\n  return [state, setState];\n}\n","export function setLocalStorage(key, value) {\n  try {\n    const stringifyValue = JSON.stringify(value);\n    localStorage.setItem(key, stringifyValue);\n  } catch (error) {\n    throw new Error('Set state error: ', error.message);\n  }\n}\n\nexport function getLocalStorage(key, defaultValue) {\n  try {\n    const storageValue = localStorage.getItem(key);\n    return storageValue === null ? defaultValue : JSON.parse(storageValue);\n  } catch (error) {\n    throw new Error('Get state error: ', error.message);\n  }\n}\n","import styled from \"@emotion/styled\";\nimport backgroundImage from \"../../images/bg-image.png\";\nimport logo from \"../../images/logo.png\";\nimport line from \"../../images/line.png\";\n\nexport const CardBox = styled.div`\n  position: relative;\n\n  padding-top: 284px;\n\n  width: 380px;\n  height: 460px;\n\n  background-image: url(${backgroundImage}), url(${logo}), url(${line}),\n    linear-gradient(114.99deg, #471ca9 -0.99%, #5736a3 54.28%, #4b2a99 78.99%);\n  background-repeat: no-repeat;\n  background-position: 36px 28px, 20px 20px, center, center;\n\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n`;\n\nexport const UserPhoto = styled.img`\n  border-radius: 50%;\n`;\n\n//   min-height: 100vh;\n//   display: flex;\n//   flex-direction: column;\n\nexport const Circle = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 80px;\n  height: 80px;\n\n  background: #ebd8ff;\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06),\n    inset 0px -2.19582px 4.39163px #ae7be3,\n    inset 0px 4.39163px 3.29372px #fbf8ff;\n  border-radius: 50%;\n`;\n","import { TweetsAmount } from \"../TweetsAmount/TweetsAmount\";\nimport { FollowersAmount } from \"../FollowersAmount/FollowersAmount\";\nimport { Button } from \"../Button/Button\";\nimport { useState } from \"react\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport { CardBox, UserPhoto, Circle } from \"./TweetCard.styled\";\n\nconst TweetCard = ({\n  id,\n  user,\n  tweets,\n  followers,\n  avatar,\n  handleUpdateUsers,\n}) => {\n  const [totalFollowers, setTotalFollowers] = useState(() => followers);\n  const [isFollowing, setIsFollowing] = useLocalStorage(\n    `isFollowing_${id}`,\n    false\n  );\n\n  const handleFollowingBtnClick = async (id) => {\n    setIsFollowing((prev) => !prev);\n\n    const newFollowersCount = isFollowing\n      ? totalFollowers - 1\n      : totalFollowers + 1;\n    setTotalFollowers(newFollowersCount);\n\n    try {\n      await handleUpdateUsers(id, newFollowersCount);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <CardBox>\n      <Circle>\n        <UserPhoto src={avatar} alt={user} width={62} height={62} />\n      </Circle>\n\n      <TweetsAmount>{tweets} tweets</TweetsAmount>\n      <FollowersAmount>\n        {totalFollowers.toLocaleString(\"en-US\")} Followers\n      </FollowersAmount>\n      <Button\n        isFollowing={isFollowing}\n        onClick={() => handleFollowingBtnClick(id)}\n      >\n        {isFollowing ? \"Following\" : \"Follow\"}\n      </Button>\n    </CardBox>\n  );\n};\nexport default TweetCard;\n","import styled from \"@emotion/styled\";\n\nexport const List = styled.ul`\n  margin-bottom: 40px;\n\n  padding: 0 50px;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 50px;\n`;\n","import TweetCard from \"../TweetCard/TweetCard\";\nimport { List } from \"./TweetCardsList.styled\";\n\nexport const TweetCardsList = ({ tweets, handleUpdateUsers }) => {\n  return (\n    <List>\n      {tweets.map(({ id, user, tweets, followers, avatar }) => (\n        <li key={id}>\n          <TweetCard\n            user={user}\n            tweets={tweets}\n            followers={followers}\n            avatar={avatar}\n            id={id}\n            handleUpdateUsers={handleUpdateUsers}\n          />\n        </li>\n      ))}\n    </List>\n  );\n};\n","import styled from '@emotion/styled';\n\nexport const Box = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 85vh;\n`;\n","import { Oval } from 'react-loader-spinner';\nimport { Box } from './Loader.styled';\n\nexport const Loader = () => {\n  return (\n    <Box>\n      <Oval\n        height={180}\n        width={180}\n        color=\"#4fa94d\"\n        wrapperClass=\"\"\n        visible={true}\n        ariaLabel=\"oval-loading\"\n        secondaryColor=\"#4fa94d\"\n        strokeWidth={2}\n        strokeWidthSecondary={2}\n      />\n    </Box>\n  );\n};\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const NavigLink = styled(NavLink)`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  margin-bottom: 10px;\n  padding: 5px;\n\n  font-weight: 600;\n  color: #fff;\n  background-color: #777777;\n  box-shadow: 0px 5px 5px 0px rgba(35, 33, 33, 0.5) inset;\n\n  border: 1px solid black;\n  border-radius: 8px;\n  transition: background-color 200ms linear;\n\n  :hover:not(.active),\n  :focus:not(.active) {\n    background-color: #0d17a7;\n  }\n`;\n","import { NavigLink } from \"./BackLink.styled\";\n\nexport const BackLink = ({ to, children }) => {\n  return <NavigLink to={to}>{children}</NavigLink>;\n};\n","import styled from \"@emotion/styled\";\n\nexport const SectionStyle = styled.section`\n  padding: 20px 0;\n`;\n","import { SectionStyle } from \"./Section.styled\";\n\nexport const Section = ({ children }) => {\n  return <SectionStyle>{children}</SectionStyle>;\n};\n","import { useEffect, useState } from \"react\";\nimport { getUsers, updateUsers } from \"../helpers/api\";\nimport { TweetCardsList } from \"../components/TweetCardsList/TweetCardsList\";\nimport { Button } from \"../components/Button/Button\";\nimport { Loader } from \"../components/Loader/Loader\";\nimport { BackLink } from \"../components/BackLink/BackLink\";\nimport { Section } from \"../components/Section/Section\";\nimport { useLocation } from \"react-router-dom\";\n\nconst STATUS = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nconst Tweets = () => {\n  const [tweets, setTweets] = useState([]);\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [error, setError] = useState(\"\");\n  const [showUsers, setShowUsers] = useState(0);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? \"/\";\n\n  useEffect(() => {\n    async function data() {\n      try {\n        setStatus(STATUS.PENDING);\n        if (currentPage !== 1) {\n          const response = await getUsers(currentPage);\n          setTweets((prev) => [...prev, ...response]);\n          setShowUsers((prev) => prev + response.length);\n          setStatus(STATUS.RESOLVED);\n\n          return;\n        }\n\n        const response = await getUsers();\n        setTweets(response);\n        setShowUsers((prev) => prev + response.length);\n        setStatus(STATUS.RESOLVED);\n      } catch (error) {\n        setStatus(STATUS.REJECTED);\n        setError(error.message);\n        throw new Error(error.message);\n      }\n    }\n    data();\n  }, [currentPage]);\n\n  const handleLoadMore = () => {\n    setCurrentPage((prev) => prev + 1);\n  };\n\n  const handleUpdateUsers = (id, followers) => {\n    updateUsers(id, followers);\n  };\n\n  return (\n    <Section>\n      <BackLink to={backLinkHref}>Go back</BackLink>\n      <TweetCardsList tweets={tweets} handleUpdateUsers={handleUpdateUsers} />\n\n      {status === STATUS.RESOLVED && showUsers < 12 && (\n        <Button onClick={handleLoadMore}>Load more</Button>\n      )}\n      {status === STATUS.PENDING && <Loader />}\n      {status === STATUS.REJECTED && <h2>{error}</h2>}\n    </Section>\n  );\n};\n\nexport default Tweets;\n"],"names":["getUsers","page","searchParams","URLSearchParams","limit","axios","response","data","id","followers","Text","styled","TweetsAmount","children","FollowersAmount","Btn","Button","onClick","useLocalStorage","key","defaultValue","useState","storageValue","localStorage","getItem","JSON","parse","error","Error","message","getLocalStorage","state","setState","useEffect","value","stringifyValue","stringify","setItem","setLocalStorage","CardBox","backgroundImage","UserPhoto","Circle","user","tweets","avatar","handleUpdateUsers","totalFollowers","setTotalFollowers","isFollowing","setIsFollowing","handleFollowingBtnClick","prev","newFollowersCount","console","log","src","alt","width","height","toLocaleString","List","TweetCardsList","map","Box","Loader","color","wrapperClass","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","NavigLink","NavLink","BackLink","to","SectionStyle","Section","STATUS","setTweets","status","setStatus","currentPage","setCurrentPage","setError","showUsers","setShowUsers","backLinkHref","useLocation","from","length","updateUsers"],"sourceRoot":""}